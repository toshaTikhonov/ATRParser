# ะะฝััััะบัะธะธ ะฟะพ ัะฑะพัะบะต ATR Parser

## ๐ฆ ะกะฟะธัะพะบ ะฒัะตั ัะฐะนะปะพะฒ ะฟัะพะตะบัะฐ

### ะััะพะดะฝัะน ะบะพะด (12 ัะฐะนะปะพะฒ)
- `atrparser.h` - ะทะฐะณะพะปะพะฒะพะบ ะฟะฐััะตัะฐ ATR
- `atrparser.cpp` - ัะตะฐะปะธะทะฐัะธั ะฟะฐััะตัะฐ ATR
- `cardreader.h` - ะทะฐะณะพะปะพะฒะพะบ ัะฐะฑะพัั ั PC/SC
- `cardreader.cpp` - ัะตะฐะปะธะทะฐัะธั ัะฐะฑะพัั ั PC/SC
- `main.cpp` - GUI ะฟัะธะปะพะถะตะฝะธะต
- `console_example.cpp` - ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต

### ะคะฐะนะปั ัะฑะพัะบะธ (4 ัะฐะนะปะฐ)
- `CMakeLists.txt` - CMake ะบะพะฝัะธะณััะฐัะธั
- `atrparser.pro` - ะณะปะฐะฒะฝัะน qmake ะฟัะพะตะบั
- `atrparser_gui.pro` - GUI ะฟัะพะตะบั ะดะปั qmake
- `atrparser_console.pro` - ะบะพะฝัะพะปัะฝัะน ะฟัะพะตะบั ะดะปั qmake

### ะะพะบัะผะตะฝัะฐัะธั (4 ัะฐะนะปะฐ)
- `README.md` - ะฟะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- `QUICKSTART.md` - ะฑัััััะน ััะฐัั
- `PROJECT_STRUCTURE.md` - ััััะบัััะฐ ะฟัะพะตะบัะฐ
- `.gitignore` - ะธัะบะปััะตะฝะธั ะดะปั git

## ๐ ะัััััะน ััะฐัั (Ubuntu/Debian)

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
```bash
# ะกะธััะตะผะฝัะต ะฟะฐะบะตัั
sudo apt-get update
sudo apt-get install -y \
    libpcsclite-dev \
    pcscd \
    pcsc-tools \
    qt6-base-dev \
    cmake \
    build-essential \
    git

# ะัะพะฒะตัะบะฐ ัััะฐะฝะพะฒะบะธ
which qmake6    # ะธะปะธ qmake ะดะปั Qt5
pcsc_scan       # ะฟัะพะฒะตัะธั PC/SC
```

### 2. ะะพะดะณะพัะพะฒะบะฐ ะฟัะพะตะบัะฐ
```bash
# ะกะพะทะดะฐะนัะต ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
mkdir atrparser
cd atrparser

# ะกะบะพะฟะธััะนัะต ะฒัะต ัะฐะนะปั (.h, .cpp, .txt, .pro, .md) ะฒ ััั ะฟะฐะฟะบั
```

### 3. ะกะฑะพัะบะฐ ัะตัะตะท CMake (ัะตะบะพะผะตะฝะดัะตััั)
```bash
mkdir build
cd build
cmake ..
make -j$(nproc)

# ะะตะทัะปััะฐั:
# - atrparser_gui      (GUI ะฟัะธะปะพะถะตะฝะธะต)
# - atrparser_console  (ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต)
```

### 4. ะกะฑะพัะบะฐ ัะตัะตะท qmake (ะฐะปััะตัะฝะฐัะธะฒะฐ)
```bash
# ะะปั GUI
qmake atrparser_gui.pro
make

# ะะปั ะบะพะฝัะพะปะธ
qmake atrparser_console.pro
make
```

### 5. ะะฐะฟััะบ PC/SC ัะปัะถะฑั
```bash
# ะะฐะฟััะบ
sudo systemctl start pcscd

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
sudo systemctl status pcscd

# ะะฒัะพะทะฐะฟััะบ ะฟัะธ ะทะฐะณััะทะบะต
sudo systemctl enable pcscd
```

### 6. ะัะพะฒะตัะบะฐ ัะธะดะตัะฐ
```bash
# ะัะพะฒะตัะบะฐ USB ััััะพะนััะฒ
lsusb | grep -i reader

# ะกะบะฐะฝะธัะพะฒะฐะฝะธะต ะบะฐัั
pcsc_scan
```

### 7. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธะน
```bash
# GUI ะฒะตััะธั
./build/atrparser_gui

# ะะพะฝัะพะปัะฝะฐั ะฒะตััะธั
./build/atrparser_console
```

## ๐ง ะกะฑะพัะบะฐ ะฝะฐ ะดััะณะธั ะะก

### macOS

```bash
# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน ัะตัะตะท Homebrew
brew install qt@6 pcsc-lite cmake

# ะะฐัััะพะนะบะฐ ะฟััะตะน
export PATH="/usr/local/opt/qt@6/bin:$PATH"

# ะกะฑะพัะบะฐ
mkdir build && cd build
cmake ..
make -j$(sysctl -n hw.ncpu)

# ะะฐะฟััะบ
./atrparser_gui
```

### Windows (MinGW)

```powershell
# ะฃััะฐะฝะพะฒะธัะต:
# 1. Qt 6 (https://www.qt.io/download)
# 2. CMake (https://cmake.org/download/)
# 3. MinGW (ัะตัะตะท Qt Maintenance Tool)

# ะกะฑะพัะบะฐ
mkdir build
cd build
cmake -G "MinGW Makefiles" ..
mingw32-make

# ะะฐะฟััะบ
atrparser_gui.exe
```

### Windows (MSVC)

```powershell
# ะัะฟะพะปัะทัะนัะต Qt Creator:
# 1. ะัะบัะพะนัะต CMakeLists.txt ะฒ Qt Creator
# 2. ะะฐัััะพะนัะต Kit (MSVC ะบะพะผะฟะธะปััะพั)
# 3. ะะฐะถะผะธัะต Build -> Build All
# 4. ะะฐะฟัััะธัะต ัะตัะตะท Run
```

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: Qt ะฝะต ะฝะฐะนะดะตะฝ
```bash
# Ubuntu/Debian
sudo apt-get install qt6-base-dev qt6-tools-dev

# ะะปะธ ะดะปั Qt5
sudo apt-get install qt5-default qtbase5-dev

# macOS
brew install qt@6
export PATH="/usr/local/opt/qt@6/bin:$PATH"
```

### ะัะพะฑะปะตะผะฐ: PC/SC ะฝะต ะฝะฐะนะดะตะฝ
```bash
# Ubuntu/Debian
sudo apt-get install libpcsclite-dev pcscd

# Fedora
sudo dnf install pcsc-lite-devel pcsc-lite

# macOS (ะฒัััะพะตะฝะฐ ะฒ ัะธััะตะผั)
# ะัะพะฒะตัััะต: ls /System/Library/Frameworks/PCSC.framework
```

### ะัะพะฑะปะตะผะฐ: pcscd ะฝะต ะทะฐะฟััะบะฐะตััั
```bash
# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
sudo systemctl status pcscd

# ะะตัะตะทะฐะฟััะบ
sudo systemctl restart pcscd

# ะัะพะฒะตัะบะฐ ะปะพะณะพะฒ
journalctl -u pcscd -f

# ะัะฐะฒะฐ ะดะพัััะฟะฐ
sudo chmod 666 /var/run/pcscd/pcscd.comm
```

### ะัะพะฑะปะตะผะฐ: "ะะธะดะตัั ะฝะต ะฝะฐะนะดะตะฝั"
```bash
# 1. ะัะพะฒะตัััะต USB ะฟะพะดะบะปััะตะฝะธะต
lsusb

# 2. ะัะพะฒะตัััะต ะฟัะฐะฒะฐ
sudo usermod -a -G pcscd $USER
# ะะตัะตะปะพะณะธะฝััะตัั ะฟะพัะปะต ััะพะณะพ!

# 3. ะัะพะฒะตัััะต ัะธะดะตั
pcsc_scan
```

### ะัะพะฑะปะตะผะฐ: ะัะธะฑะบะฐ ะฟัะธ ัะฑะพัะบะต CMake
```bash
# ะัะธััะธัะต ะบัั
rm -rf build
mkdir build && cd build

# ะฃะบะฐะถะธัะต Qt ัะฒะฝะพ
cmake -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 ..

# ะะปะธ ะดะปั Qt5
cmake -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt5 ..
```

## ๐ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

### ะขะตัั 1: ะกะฟะธัะพะบ ัะธะดะตัะพะฒ
```bash
# ะะพะฝัะพะปัะฝะฐั ะฒะตััะธั ะฟะพะบะฐะถะตั ะฒัะต ัะธะดะตัั
./atrparser_console

# ะะพะปะถะฝะพ ะฟะพะบะฐะทะฐัั ััะพ-ัะพ ะฒัะพะดะต:
# ะะฐะนะดะตะฝะพ ัะธะดะตัะพะฒ: 1
#   [0] ACS ACR122U PICC Interface 00 00
```

### ะขะตัั 2: ะงัะตะฝะธะต ะบะฐััั
```bash
# ะััะฐะฒััะต ะบะฐััั ะธ ะทะฐะฟัััะธัะต
./atrparser_console

# ะะปะธ GUI ะฒะตััะธั
./atrparser_gui
# ะัะฑะตัะธัะต ัะธะดะตั -> ะะพะดะบะปััะธัั -> ะัะพัะธัะฐัั ะบะฐััั
```

### ะขะตัั 3: ะะพะฝะธัะพัะธะฝะณ
```bash
# ะะพะฝัะพะปัะฝะฐั ะฒะตััะธั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟัััะธั ะผะพะฝะธัะพัะธะฝะณ
./atrparser_console

# ะ GUI: ะฝะฐะถะผะธัะต "ะะฐัะฐัั ะผะพะฝะธัะพัะธะฝะณ"
# ะััะฐะฒััะต/ะธะทะฒะปะตะบะธัะต ะบะฐััั - ะดะพะปะถะฝั ะฟะพัะฒะธัััั ัะพะพะฑัะตะฝะธั
```

## ๐ ะัะธะผะตัั ัะตะทัะปััะฐัะพะฒ

### ะะฐะฝะบะพะฒัะบะฐั Visa ะบะฐััะฐ
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ๐ ะะะะขะ ะะะะะะฃะะะะ!                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฝัะพัะผะฐัะธั ะพ ะบะฐััะต                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะขะธะฟ ะบะฐััั:     ะะฐะฝะบะพะฒัะบะฐั ะบะฐััะฐ (EMV)                  โ
โ ะะฐัะตะณะพัะธั:     ะะฐะฝะบะพะฒัะบะฐั ะบะฐััะฐ EMV                     โ
โ ะัะพะธะทะฒะพะดะธัะตะปั: Visa                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ATR (hex):                                              โ
โ 3B 6F 00 00 80 31 E0 6B 04 51 01 02 00 00 00 00 9F    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Mifare Classic ะบะฐััะฐ
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะขะธะฟ ะบะฐััั:     Mifare Classic                           โ
โ ะะฐัะตะณะพัะธั:     Mifare Classic                           โ
โ ะัะพะธะทะฒะพะดะธัะตะปั: Philips/NXP                              โ
โ ATR: 3B 8F 80 01 80 4F 0C A0 00 00 03 06 03 00 01...  โ
โ ะัะพัะพะบะพะปั:     T=1                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะฝัะตะณัะฐัะธั ะฒ ัะฒะพะน ะฟัะพะตะบั

### ะะฐัะธะฐะฝั 1: ะะพะฑะฐะฒะธัั ัะฐะนะปั ะฝะฐะฟััะผัั
```cmake
# ะ ะฒะฐั CMakeLists.txt:
add_executable(myapp
    main.cpp
    atrparser.cpp
    cardreader.cpp
)

target_link_libraries(myapp Qt6::Core pcsclite)
```

### ะะฐัะธะฐะฝั 2: ะะฐะบ ะฑะธะฑะปะธะพัะตะบะฐ
```cmake
# ะกะพะทะดะฐะนัะต ััะฐัะธัะตัะบัั ะฑะธะฑะปะธะพัะตะบั
add_library(atrparser STATIC
    atrparser.cpp
    cardreader.cpp
)

target_link_libraries(atrparser Qt6::Core pcsclite)

# ะัะฟะพะปัะทัะนัะต ะฒ ัะฒะพัะผ ะฟัะพะตะบัะต
target_link_libraries(myapp atrparser)
```

### ะะฐัะธะฐะฝั 3: ะขะพะปัะบะพ ะฟะฐััะตั (ะฑะตะท PC/SC)
```cpp
// ะัะฟะพะปัะทัะนัะต ัะพะปัะบะพ atrparser.h/.cpp
// ะะพะดัะพะดะธั ะตัะปะธ ATR ะฟัะธัะพะดะธั ะธะท ะดััะณะพะณะพ ะธััะพัะฝะธะบะฐ
ATRParser parser;
parser.parseATR(atrBytes);
```

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- **ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั**: README.md
- **ะัััััะน ััะฐัั**: QUICKSTART.md
- **ะกัััะบัััะฐ ะฟัะพะตะบัะฐ**: PROJECT_STRUCTURE.md
- **PC/SC ะดะพะบัะผะตะฝัะฐัะธั**: https://pcsclite.apdu.fr/
- **Qt ะดะพะบัะผะตะฝัะฐัะธั**: https://doc.qt.io/

## โ ะงะตะบะปะธัั ะฟะตัะตะด ะทะฐะฟััะบะพะผ

- [ ] Qt 5.15+ ะธะปะธ Qt 6 ัััะฐะฝะพะฒะปะตะฝ
- [ ] libpcsclite-dev ัััะฐะฝะพะฒะปะตะฝ
- [ ] pcscd ัะปัะถะฑะฐ ะทะฐะฟััะตะฝะฐ
- [ ] ะะธะดะตั ะฟะพะดะบะปััะตะฝ ะธ ะฒะธะดะตะฝ ะฒ lsusb
- [ ] ะะธะดะตั ะฒะธะดะตะฝ ะฒ pcsc_scan
- [ ] ะัะพะตะบั ัะพะฑัะฐะฝ ะฑะตะท ะพัะธะฑะพะบ
- [ ] ะัะธะปะพะถะตะฝะธะต ะทะฐะฟััะบะฐะตััั
- [ ] ะะธะดะตั ะฝะฐะนะดะตะฝ ะฒ ัะฟะธัะบะต
- [ ] ะะฐััะฐ ัะธัะฐะตััั ััะฟะตัะฝะพ

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะปะธ ะฒะพะทะฝะธะบะปะธ ะฟัะพะฑะปะตะผั:
1. ะัะพะฒะตัััะต ัะฐะทะดะตะป "ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ"
2. ะัะพะฒะตัััะต ะปะพะณะธ: `journalctl -u pcscd -f`
3. ะะพะฟัะพะฑัะนัะต ะดััะณัั ะบะฐััั/ัะธะดะตั
4. ะะตัะตัััะฐะฝะพะฒะธัะต pcscd ะธ ะดัะฐะนะฒะตัั

---

**ะฃัะฟะตัะฝะพะน ัะฐะฑะพัั ั ะบะฐััะฐะผะธ! ๐**
